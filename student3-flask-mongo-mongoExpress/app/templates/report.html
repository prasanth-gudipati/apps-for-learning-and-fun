<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Student Report</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <div class="container">
        <h2>All Students Report</h2>
        <table id="reportTable" border="1">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>First Name</th>
                    <th>Middle Name</th>
                    <th>Last Name</th>
                    <th>DOB</th>
                    <th>Address</th>
                    <th>Sex</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <button onclick="location.href='/'">Back</button>
    </div>
    <script>
        fetch('/api/students').then(r => r.json()).then(data => {
            const tbody = document.querySelector('#reportTable tbody');
            data.students.forEach(s => {
                const tr = document.createElement('tr');
                tr.innerHTML = `<td>${s.student_id}</td><td>${s.first_name}</td><td>${s.middle_name || ''}</td><td>${s.last_name}</td><td>${s.dob}</td><td>${s.address || ''}</td><td>${s.sex}</td>`;
                tbody.appendChild(tr);
            });
        });
    </script>
</body>

</html>